const backgroundFix=e=>{const r=()=>{window.navigator.userAgent.toLowerCase();return"scrollingElement"in document?document.scrollingElement:document.documentElement},t=e?r().scrollTop:parseInt(document.body.style.top||"0"),a={height:"100vh",position:"fixed",top:`${-1*t}px`,left:"0",width:"100vw"};Object.keys(a).forEach(r=>{document.body.style[r]=e?a[r]:""}),e||window.scrollTo(0,-1*t)},CLASS="-active",INACTIVECLASS="-inactive";let flg=!1,accordionFlg=!1,hamburger=document.getElementById("js-hamburger"),loupe=document.getElementById("js-loupe"),focusTrap=document.getElementById("js-focus-trap"),menu=document.querySelector(".js-nav-area"),search=document.querySelector(".js-search-area"),accordionTrigger=document.querySelectorAll(".js-sp-accordion-trigger"),accordion=document.querySelectorAll(".js-sp-accordion"),overlay=document.getElementById("js-overlay");hamburger.addEventListener("click",e=>{e.currentTarget.classList.toggle(CLASS),menu.classList.toggle(CLASS),overlay.classList.toggle(CLASS),flg?(backgroundFix(!1),hamburger.setAttribute("aria-expanded","false"),hamburger.focus(),flg=!1):(backgroundFix(!0),hamburger.setAttribute("aria-expanded","true"),flg=!0)}),overlay.addEventListener("click",e=>{e.currentTarget.classList.toggle(CLASS),hamburger.classList.remove(CLASS),hamburger.classList.remove(INACTIVECLASS),menu.classList.remove(CLASS),menu.classList.remove(INACTIVECLASS),search.classList.remove(CLASS),flg?(backgroundFix(!1),hamburger.setAttribute("aria-expanded","false"),hamburger.focus(),flg=!1):(backgroundFix(!0),hamburger.setAttribute("aria-expanded","true"),flg=!0)}),window.addEventListener("keydown",()=>{"Escape"===event.key&&(hamburger.classList.remove(CLASS),menu.classList.remove(CLASS),backgroundFix(!1),hamburger.focus(),hamburger.setAttribute("aria-expanded","false"),flg=!1)}),accordionTrigger.forEach(e=>{e.addEventListener("click",e=>{e.currentTarget.classList.toggle(CLASS),e.currentTarget.nextElementSibling.classList.toggle(CLASS),accordionFlg?(e.currentTarget.setAttribute("aria-expanded","false"),accordionFlg=!1):(e.currentTarget.setAttribute("aria-expanded","true"),accordionFlg=!0)})}),focusTrap.addEventListener("focus",e=>{hamburger.focus()});